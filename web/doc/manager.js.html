<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: manager.js</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="keyword" content="" />
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    <meta property="og:site_name" content=""/>
    <meta property="og:url" content=""/>
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"Beloola","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"","description":"","keyword":""}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">Beloola</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="LoginManager">
            <span class="title">
                <a href="LoginManager.html">LoginManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="LoginManager#init"><a href="LoginManager.html#init">init</a></li>
            
                <li data-name="LoginManager#logUser"><a href="LoginManager.html#logUser">logUser</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="LoginManager#event:inputKeyup"><a href="LoginManager.html#event:inputKeyup">inputKeyup</a></li>
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="manager.js.html">Source: manager.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source"><code>"use strict";
/**
 * @class Autocompletion
 * @constructor
 * @property {Boolean}	_pass		value to know if the ajax call can be made
 * @property {String}	username	name of the user validate in the input
 * @property {String}	basePath    base path url for the ajax call
 */
var LoginManager = function(){
	this._pass = true;
	this.username = "";
	this.basePath = $("body").attr("basepath");
	this.init();
};

/** initialize event */
LoginManager.prototype.init = function(){
	var that = this;
	var input = $("#login");
	/** initialize input keyup event */
	input.keyup(inputKeyup);

	/**
	 * @name LoginManager#inputKeyup
     * @event
     * @param {Event} event keyup event object
     * @description log user on validate
     */
	function inputKeyup(event){
		if(event.keyCode === 13 &amp;&amp; input.val() !== "" &amp;&amp; that._pass){
			that._pass = false;			
			that.username = input.val();
			$(".backdrop").show();
			that.logUser();
		}
	};

    input.focus();
};

/** log user and redirect to home page */
LoginManager.prototype.logUser = function(){
	var that = this;		
	
	/** ajax call to log user in session */
	$.ajax({
		type: "POST",
		data:{name:that.username},
		url: that.basePath+"/login/user",
		dataType:"json",
		success: logUserSuccess
	});	

	/** ajax success callback */
	function logUserSuccess(data){
		if(data.success){
			window.location.href = that.basepath+"/";
		}
		that._pass = true;
	};
};</code></pre>
        </article>
    </section>





        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Sun Jan 11 2015 22:22:03 GMT+0100 (CET)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>